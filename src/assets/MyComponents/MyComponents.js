(function(window) {
	var svgSprite =
		'<svg><symbol id="moon-icon-androidarrowdropright" viewBox="0 0 1024 1024"><path d="M384 256 640 512 384 768Z"  ></path></symbol><symbol id="moon-icon-fangdajing" viewBox="0 0 1024 1024"><path d="M794.816 397.632c0-219.328-177.792-397.12-397.12-397.12S0.512 178.304 0.512 397.632c0 219.328 177.792 397.12 397.12 397.12S794.816 616.96 794.816 397.632zM397.696 757.696c-198.848 0-360.064-161.216-360.064-360.064 0-198.848 161.216-360.064 360.064-360.064s360.064 161.216 360.064 360.064C757.76 596.48 596.544 757.696 397.696 757.696z"  ></path><path d="M1007.616 930.88l-245.632-245.632c-21.12-21.12-55.68-21.12-76.8 0l0 0c-21.12 21.12-21.12 55.68 0 76.8l245.632 245.632c21.12 21.12 55.68 21.12 76.8 0l0 0C1028.736 986.56 1028.736 952 1007.616 930.88z"  ></path></symbol><symbol id="moon-icon-fangdajing1" viewBox="0 0 1024 1024"><path d="M989.839992 888.37509 715.608258 636.545574c19.661805-25.487487 35.94056-53.317323 48.575322-83.187631 19.668968-46.50415 29.643134-95.895047 29.643134-146.799414s-9.974166-100.295264-29.643134-146.799414c-18.995633-44.909839-46.185902-85.23936-80.815607-119.869065s-74.959226-61.819974-119.869065-80.814584c-46.50415-19.669992-95.895047-29.643134-146.800437-29.643134-50.90539 0-100.295264 9.973142-146.800437 29.643134-44.909839 18.995633-85.23936 46.184879-119.869065 80.814584s-61.819974 74.959226-80.814584 119.869065c-19.669992 46.50415-29.643134 95.895047-29.643134 146.799414s9.973142 100.295264 29.643134 146.799414c18.995633 44.910862 46.184879 85.240383 80.814584 119.870088s74.959226 61.818951 119.869065 80.814584c46.50415 19.669992 95.895047 29.644157 146.800437 29.644157 50.904367 0 100.295264-9.974166 146.800437-29.644157 39.518039-16.714683 75.484182-39.781028 107.146299-68.671009l274.300296 251.891937c11.790534 10.827603 30.29805 10.039657 41.125653-1.7519l5.519714-6.010901C1002.419496 917.710208 1001.63155 899.203716 989.839992 888.37509zM416.699494 751.194754c-190.033078 0-344.636225-154.602124-344.636225-344.635201 0-190.033078 154.603147-344.635201 344.636225-344.635201s344.635201 154.603147 344.635201 344.635201C761.334695 596.59263 606.732571 751.194754 416.699494 751.194754z"  ></path></symbol><symbol id="moon-icon-open" viewBox="0 0 1024 1024"><path d="M512 192c-176.7 0-320 143.3-320 320s143.3 320 320 320 320-143.3 320-320-143.3-320-320-320z m181 280.2L534.6 630.6c-12.5 12.5-32.8 12.5-45.3 0L331 472.2c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L512 562.7 647.8 427c12.5-12.5 32.8-12.5 45.3 0 12.4 12.5 12.4 32.7-0.1 45.2z" fill="" ></path></symbol><symbol id="moon-icon-pack-up" viewBox="0 0 1024 1024"><path d="M512 192c-176.7 0-320 143.3-320 320s143.3 320 320 320 320-143.3 320-320-143.3-320-320-320z m181 405c-12.5 12.5-32.8 12.5-45.3 0L512 461.3 376.2 597c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l158.4-158.4c12.5-12.5 32.8-12.5 45.3 0L693 551.8c12.5 12.5 12.5 32.7 0 45.2z" fill="" ></path></symbol><symbol id="moon-icon-tianjia" viewBox="0 0 1024 1024"><path d="M512 0C229.244343 0 0 229.244343 0 512s229.244343 512 512 512 512-229.244343 512-512S794.755657 0 512 0z m247.061943 543.158857H543.158857v215.903086A31.0272 31.0272 0 0 1 512 789.942857a31.0272 31.0272 0 0 1-31.158857-30.880914V543.158857H264.938057A31.0272 31.0272 0 0 1 234.057143 512c0-17.2032 13.838629-31.158857 30.880914-31.158857H480.841143V264.938057c0-17.042286 13.955657-30.880914 31.158857-30.880914s31.158857 13.838629 31.158857 30.880914V480.841143h215.903086c17.042286 0 30.880914 13.955657 30.880914 31.158857s-13.838629 31.158857-30.880914 31.158857z" fill="#F7AE00" ></path><path d="M759.061943 543.158857H543.158857v215.903086A31.0272 31.0272 0 0 1 512 789.942857a31.0272 31.0272 0 0 1-31.158857-30.880914V543.158857H264.938057A31.0272 31.0272 0 0 1 234.057143 512c0-17.2032 13.838629-31.158857 30.880914-31.158857H480.841143V264.938057c0-17.042286 13.955657-30.880914 31.158857-30.880914s31.158857 13.838629 31.158857 30.880914V480.841143h215.903086c17.042286 0 30.880914 13.955657 30.880914 31.158857s-13.838629 31.158857-30.880914 31.158857z" fill="#FFFFFF" ></path></symbol><symbol id="moon-icon-bianji" viewBox="0 0 1480 1024"><path d="M587.4954784-34.13333333C285.76214507-34.13333333 41.22881173 210.4 41.22881173 512.13333333c0 301.6 244.53333333 546 546.26666667 546s546.26666667-244.53333333 546.26666667-546c-0.26666667-301.73333333-244.8-546.26666667-546.26666667-546.26666666zM478.56214507 530.26666667l247.06666666-243.6 85.2 87.86666666L567.0954784 622 478.56214507 530.26666667z m67.06666666 103.6l-134.53333333 57.2 52-138.4 82.53333333 81.2z m299.2 159.73333333c0 7.33333333-6.13333333 13.46666667-13.46666666 13.46666667H302.2954784c-7.46666667 0-13.46666667-6-13.46666667-13.46666667V268.53333333c0-7.46666667 6-13.46666667 13.46666667-13.46666666h375.86666667l-55.06666667 58.4H358.96214507c-6.13333333 0-11.2 5.06666667-11.2 11.33333333v412.53333333c0 6.13333333 5.06666667 11.2 11.2 11.2h415.73333333c6.13333333 0 11.2-5.06666667 11.2-11.2V473.2l58.93333333-54.53333333v374.93333333zM880.6954784 307.33333333c-11.6 12.93333333-49.06666667 50.93333333-49.06666667 50.93333334l-89.2-88.8 43.73333334-43.73333334s20-19.06666667 46 0c26 18.93333333 48.4 43.73333333 48.4 43.73333334s11.73333333 24.93333333 0.13333333 37.86666666z" fill="#3DEAC1" ></path></symbol><symbol id="moon-icon-expand-down" viewBox="0 0 1024 1024"><path d="M512 665.6l307.2-307.2H204.8l307.2 307.2z" fill="#229AFF" ></path></symbol><symbol id="moon-icon-expand-left" viewBox="0 0 1024 1024"><path d="M358.4 512l307.2 307.2V204.8l-307.2 307.2z" fill="#229AFF" ></path></symbol><symbol id="moon-icon-ios-arrow-dropright" viewBox="0 0 1024 1024"><path d="M416 325.6l27.6-25.6L672 512 443.6 724 416 698.4 616.8 512z" fill="" ></path><path d="M96 512c0 229.8 186.2 416 416 416s416-186.2 416-416S741.8 96 512 96 96 282.2 96 512z m34.6 0c0-210.2 171-381.4 381.4-381.4 210.2 0 381.4 171 381.4 381.4 0 210.2-171 381.4-381.4 381.4-210.2 0-381.4-171.2-381.4-381.4z" fill="" ></path></symbol><symbol id="moon-icon-ios-arrow-dropdown" viewBox="0 0 1024 1024"><path d="M698.4 416l25.6 27.6L512 672 300 443.6l25.6-27.6L512 616.8z" fill="" ></path><path d="M512 96C282.2 96 96 282.2 96 512s186.2 416 416 416 416-186.2 416-416S741.8 96 512 96z m0 34.6c210.2 0 381.4 171 381.4 381.4 0 210.2-171 381.4-381.4 381.4-210.2 0-381.4-171-381.4-381.4 0-210.2 171.2-381.4 381.4-381.4z" fill="" ></path></symbol><symbol id="moon-icon-cx" viewBox="0 0 1024 1024"><path d="M382.656 47.712c210.72-19.392 380.736 143.872 396.224 333.76 17.44 212.16-141.92 380.736-333.248 396.704-212.64 17.92-380.256-141.44-397.184-332.768-8.224-93.984 25.664-209.728 90.112-274.656 16-16.48 27.136-29.056 46.976-45.056 54.24-43.584 122.56-71.2 197.152-77.984zM724.16 686.144c2.432-3.392 8.704-10.656 11.616-14.528 4.832-5.824 6.784-8.224 11.136-13.568 7.264-10.656 13.568-19.36 20.352-31.008 73.152-119.648 79.936-277.056 14.048-402.048-27.616-53.76-47.456-75.552-87.2-114.304-153.568-151.616-420.448-146.784-574.976 12.096-110.432 113.344-156.448 294.016-84.768 454.368 22.752 51.84 44.576 82.816 80.416 120.608 115.296 121.088 293.056 162.752 450.976 99.776a431.328 431.328 0 0 0 66.848-33.92c28.096-16.96 50.368-38.272 57.632-43.104 9.216 4.352 105.12 105.12 120.128 121.088 6.784 6.784 13.568 11.616 20.352 18.4l138.048 141.92c8.704 8.704 30.048 35.36 48.928 13.568 18.4-20.832-8.224-38.752-18.88-49.888l-117.696-120.608c-7.264-7.744-14.528-12.608-21.312-19.872l-58.112-59.584c-25.664-26.656-51.36-53.76-77.504-79.456z"  ></path></symbol><symbol id="moon-icon-zhankai" viewBox="0 0 1024 1024"><path d="M0 0h1024v1024H0z" fill="#FFFFFF" ></path><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#323333" ></path><path d="M774.208 398.976l-265.088 338.88-265.024-338.88" fill="#FFFFFF" ></path></symbol><symbol id="moon-icon-shouqi1" viewBox="0 0 1024 1024"><path d="M0 0h1024v1024H0z" fill="#FFFFFF" ></path><path d="M512 511.936m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#323333" ></path><path d="M385.024 228.992l338.88 265.088-338.88 265.024" fill="#FFFFFF" ></path></symbol><symbol id="moon-icon-shanchu1" viewBox="0 0 1024 1024"><path d="M818.463834 329.513806c-21.12104-1.780553-38.120203 7.716752-43.774993 28.494984-3.978614 14.622022-3.308349 30.726815-3.338025 46.170552-0.234337 122.535801 0.019443 245.073648-0.206708 367.609449-0.118704 64.266699-9.815553 73.821309-75.745125 74.074066-91.470271 0.350994-182.942589 0.11154-274.413883 0.085958-37.968753-0.010233-75.990718 1.128707-113.889887-0.531096-39.872103-1.746784-51.571562-14.626115-53.769624-54.027497-0.671289-12.046361-0.202615-24.156166-0.204661-36.238342-0.01228-120.810506 0.229221-241.621013-0.146333-362.431519-0.137123-43.958164-14.041808-63.374376-43.140543-63.47466-29.208229-0.099261-42.382273 18.336624-42.510186 63.567781-0.397043 139.794883-0.833995 279.595906 0.154519 419.383626 0.566912 80.107479 41.47767 119.745245 122.553197 120.685663 72.476685 0.840134 144.970766 0.174985 217.45666 0.197498 70.761624 0.021489 141.522224 0.021489 212.283848 0.021489 1.725294 0 3.450589 0.00614 5.176906-0.008186 93.924159-0.784876 131.718951-38.269605 131.9758-132.318608 0.36532-132.892683 0.163729-265.784342 0.014326-398.677025-0.01535-13.758352-0.032746-27.731598-2.317789-41.222867C851.314009 341.320713 837.225129 331.095837 818.463834 329.513806z" fill="#d81e06" ></path><path d="M879.064027 177.462784c-39.520085-2.484587-79.342046-2.117221-118.952182-0.704035-44.200688 1.576915-81.3334-9.110495-107.9762-47.437405-19.078521-27.445072-46.490847-39.258119-80.30907-38.256302-36.187177 1.074472-72.500221 1.608637-108.631116-0.167822-39.285748-1.929955-70.977541 9.523911-94.120634 42.34441-22.954805 32.553417-55.67502 44.070728-94.330412 43.310412-32.758078-0.645706-65.537645-0.150426-98.308003-0.081864-10.345626 0.022513-20.800745-0.617054-31.012318 0.630357-27.109428 3.310396-43.039235 19.72218-42.742477 42.798758 0.300852 23.336498 15.927761 40.405245 43.649126 41.260729 53.41863 1.647523 106.96415-0.656963 160.362314 1.285273 39.526225 1.437745 71.366398-10.390651 93.838202-43.12724 22.791076-33.205263 53.417607-46.608527 93.278453-42.632983 18.788925 1.873674 37.923728 0.836041 56.880475 0.305969 24.25645-0.677429 45.822628 7.486508 58.449203 27.278273 33.412994 52.375881 82.32089 63.420425 139.13792 57.910944 11.960403-1.160429 36.201503-0.415462 36.201503-0.536212 31.043017 0 62.089104 0.200568 93.129051-0.074701 18.818601-0.168846 33.249265-7.779174 40.406269-26.260084C928.918481 207.140711 912.082024 179.540096 879.064027 177.462784z" fill="#d81e06" ></path><path d="M577.061808 716.963115c4.181229 26.720571 21.162995 42.404786 44.261063 41.200354 24.350594-1.27197 37.20946-15.839757 40.84015-38.865169 1.595334-10.118452 1.535983-20.560268 1.549286-30.855752 0.104377-89.439008 0.218988-178.876993-0.118704-268.314978-0.051165-13.631462-0.716314-27.686573-4.086062-40.777729-4.826935-18.753109-19.182898-28.086685-38.33919-28.541033-19.127639-0.453325-34.174334 8.351202-40.080857 26.431999-4.14746 12.691043-4.606925 26.938536-4.771677 40.512692-0.544399 44.713364-0.204661 89.436962-0.208754 134.156466-0.004093 44.718481-0.050142 89.437985 0.028653 134.157489C576.153112 696.377264 575.479777 706.861036 577.061808 716.963115z" fill="#d81e06" ></path><path d="M403.319765 758.160399c21.724791 0.38988 36.022425-11.344373 41.561581-31.697933 3.095501-11.370978 3.317559-23.757077 3.349281-35.68985 0.248663-91.167373 0.158612-182.334745 0.088004-273.504164-0.00614-8.585539 0.346901-17.339924-1.116427-25.727964-4.732791-27.154453-20.99108-41.872666-44.685735-40.73168-24.588001 1.182942-37.143968 16.211217-40.84629 38.933731-1.919722 11.776208-1.372254 24.003693-1.412163 36.028565-0.140193 43.00342-0.054235 86.006839-0.051165 129.010259 0.00307 44.724621-0.174985 89.450265 0.119727 134.171816 0.078795 11.969613 0.081864 24.288173 2.798742 35.814694C367.958396 745.270834 381.50697 757.768473 403.319765 758.160399z" fill="#d81e06" ></path></symbol><symbol id="moon-icon-shanchu" viewBox="0 0 1024 1024"><path d="M579.2 752v-377.6c0-44.8 67.2-44.8 67.2 0v377.6c3.2 44.8-67.2 44.8-67.2 0z m-204.8 0v-377.6c0-44.8 67.2-44.8 67.2 0v377.6c3.2 44.8-67.2 44.8-67.2 0zM960 204.8h-172.8V134.4c0-57.6-44.8-102.4-102.4-102.4H339.2c-57.6 0-102.4 44.8-102.4 102.4v67.2H64C19.2 201.6 19.2 268.8 64 268.8h896c41.6 3.2 41.6-64 0-64zM307.2 134.4c0-19.2 16-35.2 35.2-35.2h345.6c19.2 0 32 12.8 32 35.2v67.2H307.2V134.4z m444.8 857.6h-480c-57.6 0-102.4-44.8-102.4-102.4V374.4c0-19.2 16-35.2 35.2-35.2 19.2 0 35.2 12.8 35.2 35.2v515.2c0 19.2 16 35.2 35.2 35.2h480c19.2 0 35.2-16 35.2-35.2v-512c0-44.8 67.2-44.8 67.2 0v512c-3.2 57.6-48 102.4-105.6 102.4z" fill="#d81e06" ></path></symbol><symbol id="moon-icon-arrow-dropdown" viewBox="0 0 1024 1024"><path d="M295.2 421.4c-15 15-15 39.6 0 54.6l191.4 190.8c14.6 14.6 38.2 15 53.2 1.2l188.6-188c7.6-7.6 11.4-17.4 11.4-27.4 0-9.8-3.8-19.8-11.2-27.2-15-15-39.4-15.2-54.6 0l-162 159.6-162.2-163.8c-15-15-39.4-15-54.6 0.2z" fill="" ></path><path d="M96 512c0 229.8 186.2 416 416 416s416-186.2 416-416S741.8 96 512 96 96 282.2 96 512z m664.8-248.8C827.4 329.6 864 418 864 512s-36.6 182.4-103.2 248.8C694.4 827.4 606 864 512 864s-182.4-36.6-248.8-103.2C196.6 694.4 160 606 160 512s36.6-182.4 103.2-248.8C329.6 196.6 418 160 512 160s182.4 36.6 248.8 103.2z" fill="" ></path></symbol><symbol id="moon-icon-arrow-dropdown1" viewBox="0 0 1024 1024"><path d="M256 384l256 256 256-256z" fill="" ></path></symbol><symbol id="moon-icon-expand-up" viewBox="0 0 1024 1024"><path d="M512 358.4l307.2 307.2L204.8 665.6l307.2-307.2z" fill="#229AFF" ></path></symbol><symbol id="moon-icon-expand-right" viewBox="0 0 1024 1024"><path d="M665.6 512l-307.2 307.2L358.4 204.8l307.2 307.2z" fill="#229AFF" ></path></symbol><symbol id="moon-icon-edit" viewBox="0 0 1094 1024"><path d="M762.65253627 50.24563911c20.07368443-20.04860865 53.24192925-19.40223904 74.42725963 1.77751598l114.32387972 114.32945148c21.04881152 21.04323972 21.91249551 54.29785188 1.80537673 74.42168604L390.32121991 803.65655326c-10.02151843 9.99644445-29.17579727 21.15468103-43.2204108 24.97717893l-181.50176616 49.57823918c-27.67131546 7.57255708-44.34877219-8.96838079-37.3417892-36.55890071l47.04290873-185.3883424c3.50209898-13.82172735 14.60461583-33.27133113 24.49518894-43.16469105L762.68318385 50.21220477l-0.03064758 0.03343434zM237.89773834 651.22749987c-3.66926366 3.67204863-10.24440461 15.25377043-11.53435707 20.24084906l-36.78178868 144.96236765 141.41012065-38.61223945c5.60001387-1.53512761 17.21795503-8.26907642 21.23269159-12.28381295L915.10945044 202.64404493l-114.32945146-114.29601889L237.89773834 651.22749987z m522.98006698-523.00235597l114.32945148 114.32945328-38.12467588 38.12467589-114.30437571-114.32945147 38.10238689-38.10238871v-0.02228899zM303.61572095 585.50951905l114.29880391 114.3294515-38.10238691 38.1023869-114.3210929-114.30437751 38.09402832-38.12746089h0.03064758zM114.02876019 963.786324c0-14.87486497 11.90769251-32.47451227 27.10574137-32.47451229h813.42022655c14.88322357 0 26.94693533 17.59128868 26.94693533 32.47451229 0 14.88043676-12.06371356 34.68387204-26.94693533 34.68387023H141.13450156a26.9580807 26.9580807 0 0 1-19.15706387-7.83166083c-5.08737635-5.05672878-7.94867751-19.67806177-7.9486775-26.8522094z m0 0" fill="#1296db" ></path></symbol></svg>';
	var script = function() {
		var scripts = document.getElementsByTagName("script");
		return scripts[scripts.length - 1]
	}();
	var shouldInjectCss = script.getAttribute("data-injectcss");
	var ready = function(fn) {
		if(document.addEventListener) {
			if(~["complete", "loaded", "interactive"].indexOf(document.readyState)) {
				setTimeout(fn, 0)
			}
			else {
				var loadFn = function() {
					document.removeEventListener("DOMContentLoaded", loadFn, false);
					fn()
				};
				document.addEventListener("DOMContentLoaded", loadFn, false)
			}
		}
		else if(document.attachEvent) {
			IEContentLoaded(window, fn)
		}

		function IEContentLoaded(w, fn) {
			var d = w.document,
				done = false,
				init = function() {
					if(!done) {
						done = true;
						fn()
					}
				};
			var polling = function() {
				try {
					d.documentElement.doScroll("left")
				}
				catch(e) {
					setTimeout(polling, 50);
					return
				}
				init()
			};
			polling();
			d.onreadystatechange = function() {
				if(d.readyState == "complete") {
					d.onreadystatechange = null;
					init()
				}
			}
		}
	};
	var before = function(el, target) {
		target.parentNode.insertBefore(el, target)
	};
	var prepend = function(el, target) {
		if(target.firstChild) {
			before(el, target.firstChild)
		}
		else {
			target.appendChild(el)
		}
	};

	function appendSvg() {
		var div, svg;
		div = document.createElement("div");
		div.innerHTML = svgSprite;
		svgSprite = null;
		svg = div.getElementsByTagName("svg")[0];
		if(svg) {
			svg.setAttribute("aria-hidden", "true");
			svg.style.position = "absolute";
			svg.style.width = 0;
			svg.style.height = 0;
			svg.style.overflow = "hidden";
			prepend(svg, document.body)
		}
	}
	if(shouldInjectCss && !window.__iconfont__svg__cssinject__) {
		window.__iconfont__svg__cssinject__ = true;
		try {
			document.write(
				"<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>"
			)
		}
		catch(e) {
			console && console.log(e)
		}
	}
	ready(appendSvg)
})(window)
const MyComponents = {
	install: function(Vue) {
		/**全局过滤器*/
		Vue.filter('formatDate', function(value) {
			return Vue.prototype.comMethods.formatDate(value)
		})
		/**自定义全局方法*/
		Vue.prototype.comMethods = {
			remakeObj(obj) {
				var returnNew = []
				var key;
				if(obj instanceof Array) {
					obj.forEach(function(item) {
						returnNew.push({
							"uuid": comMethods.guid(),
							"content": item
						})
					}.bind(this))
				}
				else {
					for(key in obj) {
						returnNew.push({
							"uuid": comMethods.guid(),
							"content": {
								[key]: obj[key]
							}
						})
					}
				}
				return returnNew;
			},
			guid() {
				var uuid = 'xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
					var r = Math.random() * 16 | 0,
						v = c == 'x' ? r : (r & 0x3 | 0x8);
					return v.toString(16)
				});
				return uuid + new Date().getTime();
			},
			compressImage(img) {
				var canvas = document.createElement("canvas");
				var width = img.width;
				var height = img.height;
				if(width > height) {
					height = 800 * height / width;
					width = 800;
				}
				else {
					width = 800 * width / height;
					height = 800;
				}
				canvas.width = width;
				/*设置新的图片的宽度*/
				canvas.height = height;
				/*设置新的图片的长度*/
				var ctx = canvas.getContext("2d");
				ctx.drawImage(img, 0, 0, width, height);
				/*绘图*/
				var dataURL = canvas.toDataURL("image/png", 0.8);
				return dataURL;
				//			return dataURL.replace("data:image/png;base64,", "");
			},
			projectPath() {
				var curWwwPath = window.document.location.href;
				var pathName = window.document.location.pathname;
				var pos = curWwwPath.indexOf(pathName);
				var localhostPaht = curWwwPath.substring(0, pos);
				var projectName = pathName.substring(0, pathName.substr(1).indexOf('/') + 1);
				var realPath = localhostPaht + projectName;
				return process.env.NODE_ENV == 'development' ? '/apis' : realPath
			},
			getDateStr(AddDayCount) {
				var dd = new Date();
				dd.setDate(dd.getDate() + AddDayCount); //获取AddDayCount天后的日期  
				var y = dd.getFullYear();
				var m = (dd.getMonth() + 1) < 10 ? "0" + (dd.getMonth() + 1) : (dd.getMonth() + 1); //获取当前月份的日期，不足10补0  
				var d = dd.getDate() < 10 ? "0" + dd.getDate() : dd.getDate(); //获取当前几号，不足10补0  
				return y + "-" + m + "-" + d;
			},
			/*时间格式化*/
			formatDate(date, fmt) {
				var init;
				try {
					if(date) {
						if(typeof date == "number" || (typeof date == "string" && date.indexOf("yyyy") != -1)) {
							init = new Date();
							fmt = date;
						}
						//匹配iso系统
						else {
							if(typeof date == "string") init = new Date(date.replace(/\-/g, '/'))
							else init = new Date(date)
						}
					}
					else init = new Date()
					//匹配iso系统
					if(init == 'Invalid Date') {
						let formatdate = date.replace(/\-/g, '/').split(".")[0] //ios系统支持到秒，去掉毫秒数
						init = new Date(formatdate)
					}
				}
				catch(e) {
					init = new Date()
				}
				if(fmt) {
					switch(fmt) {
						case 0:
							fmt = "yyyy-MM-dd";
							break;
						case 1:
							fmt = "yyyy-MM-dd HH:mm:ss";
							break;
						case 2:
							fmt = "yyyy-MM-dd HH:mm:ss.S";
							break;
					}
				}
				else {
					fmt = "yyyy-MM-dd"
				}
				var o = {
					"M+": init.getMonth() + 1, //月份 
					"d+": init.getDate(), //日 
					"H+": init.getHours(), //小时 
					"m+": init.getMinutes(), //分 
					"s+": init.getSeconds(), //秒 
					"q+": Math.floor((init.getMonth() + 3) / 3), //季度 
					"S": init.getMilliseconds() //毫秒 
				};
				if(/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (init.getFullYear() + "").substr(4 -
					RegExp.$1.length));
				for(var k in o)
					if(new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ?
						(o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
				return fmt;
			}
		}
		/**
		 *全局组件autocomplete-input
		 * 具体功能：
		 * 一：输入自动匹配数据，适用于pc和手机端
		 * 二：当输入框获取焦点，根据输入框中的值，匹配出下拉菜单。没有值则下拉菜单显示全部数据
		 * 三：点击下拉菜单匹配出的数据，自动填充输入框，
		 * 四：点击页面除输入框和下拉菜单以外的区域关闭下拉菜
		 * 五：下拉菜单中的元素大于等于1个，点击页面其他区域/Enter键/Tab键会自动优先选择所筛选的数据中第一个与筛选条件完全相符的数据，若都不符则选择第一个数据返回。（点击触发和Tab键需要input中有待匹配值）
		 * 六：下拉菜单支持键盘 上下键选择，Enter键/Tab键/点击页面其他区域确认。
		 * 七：支持不同数据类型的混合使用，即原始数组中的每个数据类型可以不同，对象字符类型，数值，布尔型可以同时存在，对象的话必须指定，对象的某个字段作为赛选依据
		 * 八：下拉菜单的高度， 默认根据下拉个数及每个数所占的高度动态显示， 也可以指定下拉菜单的显示的最大个数，超出的用滚动条显示。数的高度需要手动赋予，默认为25px
		 * 九：当下拉菜单使用键盘上下键选择时，超出的部分可以自动滚动出现
		 * 十：当数据被选择（或者手动填写完，此时 需要Enter键键/Tab键/点击页面其他区域确认），将匹配到的数据返回，对象则返回对象，字符串则返回字符串,若匹配失败则返回空字符串
		 * API:
		 * <moon-autocomplete-input v-model="value" :data="initData" placeholder="input here"  max-list="3" list-height="25" :show-content="showContent"></moon-autocomplete-input>
		 * v-model:接收返回值
		 * data :数据源//默认为空
		 * placeholder：提示内容//默认为空
		 * show-content： 对象数组所参与筛选和显示的字段名 ，默认会直接展示对象
		 * max-list：筛选后下拉列表最大高度，默认最大高度就是全部数据累加高度
		 * list-height：下拉列表中每组数据所占的高度 //默认是input的高度。
		 * @ author 闰月飞鸟
		 * */
		Vue.component("moon-autocomplete-input", {
			template: `
		<div class="moon-autocomplete-input" v-clickoutside.enter="handleClose">    
			<input type="text" v-element-xywh="getPostion"@focus="onFoucs"@keyup.enter="Blur" :placeholder="thisPlaceholder" v-model.trim="inputValue"  @keydown.down.prevent="selectdown" @keydown.up.prevent="selectup" />
		  	<div  class="moon-autocomplete-ul-div" v-cloak :style="ul_style" v-show="show_ul&&filterData.length>0" v-element="getScoll">
				<ul>
					<li v-for="(value,index) in filterData " :key="index" @click="selectThis(value)" :style="style":class="{'moon-autocomplete-li':ind ==index}"> 
					{{value&&showContent&&value[showContent]? typeof(value[showContent]) == "string" ? value[showContent] .trim(): JSON.stringify(value[showContent]).trim(): typeof(value) == "string" ? value.trim() : JSON.stringify(value).trim()}}
					</li>
				</ul>
			</div> 
		</div>
		`,
			props: {
				value: null,
				data: {
					type: Array,
					default: function() {
						return [];
					}
				},
				placeholder: {
					type: String,
					default: ""
				},
				showContent: {
					type: String,
					default: ""
				},
				maxList: {
					type: [Number, String],
					default: function() {
						return this.data.length;
					}
				},
				listHeight: [Number, String]
			},
			created() {
				if(JSON.stringify(this.data).trim()[0] != "[") {
					this.data = [];
					throw "error: 'data' of <moon-autocomplete-input>  is Not a Array"
				}
			},
			data() {
				return {
					inputValue: "",
					elementPostion: {
						top: 0,
						left: 0,
						width: 0,
						height: 0
					},
					show_ul: false,
					ind: -1,
					lastFilterData: [],
					element_dropdown: "",
					thisPlaceholder: this.placeholder
				}
			},
			watch: {
				value(val) {
					val = val ? typeof(val) == "string" ? val.trim() : JSON.stringify(val).trim() : "";
					if(val.length == 0) {
						this.inputValue = ""
						this.thisPlaceholder = "请重新输入数据"
					}
					else {
						this.thisPlaceholder = this.placeholder
					}
				},
				inputValue(val) {
					this.inputValue = val ? typeof(val) == "string" ? val.trim() : JSON.stringify(val).trim() :
						"";
				},
				ind(val) {
					var e = this.element_dropdown;
					if(val >= this.maxList) {
						e.scrollTop = (val - this.maxList + 1) * (this.setListHeight + 1)
					}
					else {
						e.scrollTop = 0
					}
				}
			},
			methods: {
				selectThis(val) {
					this.inputValue = this.showContent && val && val[this.showContent] ? val[this.showContent] :
						val;
					this.returnValue(val);
					//点击后关闭
					this.show_ul = false;
				},
				getScoll(e) {
					this.element_dropdown = e;
				},
				selectdown(e) {
					var filterDataLength = this.filterData.length;
					if(filterDataLength > 0) {
						++this.ind;
						if(this.ind >= filterDataLength) {
							this.ind = 0;
						}
						if(this.ind >= 0) {
							var val = this.filterData[this.ind];
							this.inputValue = this.showContent.length > 0 && val && val[this.showContent] ? val[this
								.showContent] : val;
						}
					}
				},
				selectup(e) {
					var filterDataLength = this.filterData.length;
					if(filterDataLength > 0) {
						if(this.ind <= 0) {
							this.ind = filterDataLength;
						}
						--this.ind;
						if(this.ind >= 0) {
							var val = this.filterData[this.ind];
							this.inputValue = this.showContent.length > 0 && val && val[this.showContent] ? val[this
								.showContent] : val;
						}
					}
				},
				Blur(e) {
					e.target.blur();
				},
				//通过指令拿到当前元素的坐标及长宽
				getPostion(left, top, width, height) {
					this.elementPostion.top = top;
					this.elementPostion.left = left;
					this.elementPostion.width = width;
					this.elementPostion.height = height;
				},
				onFoucs() {
					this.show_ul = true;
				},
				handleClose(status) {
					this.ind = -1; //清空updown标记
					if(status != "UpDown" && this.show_ul) {
						this.show_ul = false;
						//用户自己输入全名时，返回对应数据对象
						//当用户输入中途退出下拉类表时，自动优先选择所筛选的数据中第一个与筛选条件完全相符的数据，若都不符则选择第一个数据返回
						var showContent = this.showContent ? this.showContent.trim() : "";
						if(status == "ChoiceAndClose-Click" && !this.inputValue) {
							this.returnValue("");
						}
						if(status == "ChoiceAndClose-Enter" && !this.inputValue) {
							this.inputValue = this.data[0] && showContent && this.data[0][showContent] ? this.data[0]
								[showContent] : this.data[0]
							this.returnValue(this.data[0]);
						}
						if(this.inputValue) {
							//this.inputValue的值会引起this.filterData的改变
							if(this.filterData.length > 0) {
								var getRetrun = this.filterData.filter(function(value) {
									value = this.showContent.trim() && value[this.showContent.trim()] ? value[this.showContent] :
										value
									var filterValue = typeof(value) == "string" ? value.trim().toUpperCase() : JSON.stringify(
										value).trim().toUpperCase();
									return filterValue == this.inputValue.trim().toUpperCase()
								}.bind(this));
								if(getRetrun.length > 0) {
									this.returnValue(getRetrun[0]);
								}
								else {
									this.returnValue(this.filterData[0]);
									this.inputValue = showContent && this.filterData[0][showContent] ? this.filterData[0][
										showContent
									] : this.filterData[0]
								}
							}
							else {
								this.returnValue("");
								this.inputValue = "";
							}
						}
					}
				},
				returnValue(val) {
					this.$emit('input', val);
				}
			},
			computed: {
				setListHeight() {
					if(this.listHeight) {
						var toS = (typeof(this.listHeight) == "string" ? this.listHeight.trim() : JSON.stringify(
							this.listHeight).trim());
						return parseInt(toS) ? parseInt(toS) : this.elementPostion.height
					}
					else return this.elementPostion.height
				},
				style() {
					return {
						"height": this.setListHeight + 'px',
						"line-height": this.setListHeight + 'px'
					}
				},
				ul_style() {
					var maxNum = this.maxList;
					maxNum = typeof(maxNum) == "string" ? (parseInt(maxNum) ? parseInt(maxNum) : this.filterData
						.length) : maxNum;
					var minH = this.setListHeight + 1;
					if(this.filterData.length > maxNum) {
						minH = minH * maxNum;
					}
					else {
						minH = minH * this.filterData.length
					}
					return {
						top: this.elementPostion.top + this.elementPostion.height + 2 + 'px',
						lef: this.elementPostion.left + 'px',
						width: this.elementPostion.width - 2 + 'px', //每个边框也有1px，固要减去2
						height: minH + 'px'
					}
				},
				filterData() {
					if(this.ind >= 0) {
						return this.lastFilterData;
					}
					//将所有非字符串的数据类型转成string大写 ,
					var inputValue = typeof(this.inputValue) == "string" ? this.inputValue.trim().toUpperCase() :
						JSON.stringify(this.inputValue).trim().toUpperCase();
					if(inputValue) {
						var filterData = this.data.filter(function(value) {
							value = this.showContent.trim() && value[this.showContent.trim()] ? value[this.showContent] :
								value
							var filterValue = typeof(value) == "string" ? value.trim().toUpperCase() : JSON.stringify(
								value).trim().toUpperCase();
							return filterValue.indexOf(inputValue) !== -1
						}.bind(this));
						this.lastFilterData = filterData;
						return filterData;
						console.log(filterData.length)
					}
					else {
						this.lastFilterData = this.data;
						return this.data;
					}
				}
			},
			directives: {
				/**
				 * 指令，获取元素，类似jQuery $("#") document.getElementById("")
				 * API :  v-element="function getEl(el)"  返回指令所在dom元素
				 * @ author 闰月飞鸟
				 **/
				"element": {
					bind(el, binding) {
						if(binding.expression) {
							binding.value(el);
						}
					},
					unbind(el, binding) {}
				},
				/**
				 * 指令，获取元素坐标及大小v-element-xywh
				 * API :  v-element-xywh="function getElPostion(left,top,width,heigh)"  返回指令所在dom元素的坐标及宽度高度 与当前元素
				 * @ author 闰月飞鸟
				 **/
				"element-xywh": {
					bind(el, binding) {},
					inserted(el, binding) {},
					update(el, binding) {},
					componentUpdated(el, binding) {
						function getElemPos(obj) {
							var pos = {
								"top": 0,
								"left": 0
							};
							if(obj.offsetParent) {
								while(obj.offsetParent) {
									pos.top += obj.offsetTop;
									pos.left += obj.offsetLeft;
									obj = obj.offsetParent;
								}
							}
							else if(obj.x) {
								pos.left += obj.x;
							}
							else if(obj.x) {
								pos.top += obj.y;
							}
							return {
								left: pos.left,
								top: pos.top
							};
						}
						var pos = getElemPos(el);
						if(binding.expression) {
							binding.value(pos.left, pos.top, el.offsetWidth, el.offsetHeight, el);
						}
					},
					unbind(el, binding) {}
				},
				"clickoutside": {
					bind(el, binding, vnode) {
						function documentHandle(e) {
							//当监听事件被触发，判断当前触发监听的元素是否被包含在 指令所在的元素内
							if(el.contains(e.target)) {
								binding.value("UpDown");
								return;
							}
							//判断指令是否拥有外部引用,没有外部引用，binding.value就是undefined
							if(binding.expression) {
								binding.value("ChoiceAndClose-Click");
							}
						}
						//将函数存入 el对象中，用于后续接粗监听
						el.documentHandle = documentHandle;
						document.addEventListener("click", documentHandle);

						function keyDown(e) {
							if(e.keyCode != 38 && e.keyCode != 40 && e.keyCode != 13 && e.keyCode != 9) {
								binding.value("UpDown");
							}
							if(e.keyCode == 13) {
								binding.value("ChoiceAndClose-Enter");
							}
							if(e.keyCode == 9) {
								binding.value("ChoiceAndClose-Click");
							}
						}
						if(binding.modifiers.enter) {
							el._keydown = keyDown;
							el.addEventListener('keydown', keyDown);
						}
					},
					unbind(el, binding) {
						//删除 el对象中自己添加的键值 ,及监听
						document.removeEventListener(el.documentHandle);
						delete el.documentHandle;
						if(binding.modifiers.esc) {
							el.removeEventListener(e._keydown);
							delete el._keydown;
						}
					}
				}
			}
		});
		/*组件dropdown
		 *API
		 * data-array：接收dropdown需要展现的数组
		 * to-id：绑定到一个dom元素，只能是ID，绑定到元素时，dropdown显示的位置是在该元素的下面，不绑定则根据css里的样式显示
		 * v-model：接收布尔型数据，用于控制显示
		 * @selected:返回函数 ，参数是选中菜单的下标
		 * **/
		Vue.component("moon-dropdown", {
			template: `<div class="moon-dropdown"  v-show="value":style="thisStyle" v-cloak v-moon-dropdwon-clickout="thisOutside">
				<slot><slot>
			</div>`,
			props: {
				value: {
					type: Boolean,
					default: false
				},
				toId: {
					type: String,
					default: ""
				}
			},
			mounted() {
				if(typeof(this.toId) == "string" && this.toId[0] == "#") {
					this.thisStyle = this.getElemPos(document.getElementById(this.toId.substring(1)))
					console.log(this.thisStyle)
				}
				else {
					this.toId = "";
				}
			},
			data() {
				return {
					thisStyle: {}
				}
			},
			methods: {
				getElemPos(obj) {
					var pos = {
						"top": 0,
						"left": 0
					};
					var objH = obj.offsetHeight;
					if(obj.offsetParent) {
						while(obj.offsetParent) {
							pos.top += obj.offsetTop;
							pos.left += obj.offsetLeft;
							obj = obj.offsetParent;
						}
					}
					else if(obj.x) {
						pos.left += obj.x;
					}
					else if(obj.x) {
						pos.top += obj.y;
					}
					return {
						left: pos.left + 'px',
						top: pos.top + objH + 2 + 'px'
					};
				},
				thisOutside(e) {
					if(this.value) {
						if(typeof(this.toId) == "string" && this.toId[0] == "#") {
							if(!document.getElementById(this.toId.substring(1)).contains(e.target)) {
								this.thisValue = false;
								this.$emit("input", false)
							}
						}
						else {
							this.thisValue = false;
							this.$emit("input", false)
						}
					}
				}
			},
			directives: {
				"moon-dropdwon-clickout": {
					bind(el, binding, vnode) {
						el.oncontextmenu = function(e) {
							e.preventDefault();
						};
						document.oncontextmenu = function(e) {
							if(el.contains(e.srcElement || e.target)) {
								return;
							}
							if(binding.expression) {
								binding.value(e);
							}
						};

						function documentHandle(e) {
							if(el.contains(e.target)) {
								return;
							}
							if(binding.expression) {
								binding.value(e);
							}
						}
						el.documentHandle = documentHandle;
						document.addEventListener("click", documentHandle);
					},
					unbind(el, binding) {
						document.removeEventListener(el.documentHandle);
						document.oncontextmenu = function(e) {}
						delete el.documentHandle;
					}
				}
			}
		});
		Vue.component("moon-icon", {
			template: `<svg class="moon-icon" aria-hidden="true">
					<use :xlink:href="'#'+name"></use>
				</svg>
				`,
			props: {
				name: {
					type: String,
					required: true
				}
			}
		});
		/*loading加载中应该更具所在的dom父节点来显示，如图片加载，页面加载 加载时需要将原有的页面固定，即不可点击，不能滚动
		 * loading的图片可以自定义
		 * 放在组件外围div中，如button
		 * 也可以指定dom节点，现支持body，id，class 中的第一个元素
		 * API
		 * positionEl 接收所制定的元素的 id，class 或 body
		 * */
		Vue.component("moon-loading", {
			template: ' <div class="moon-loading" v-loading="getParentNode" :style="setNodeStyle"></div>',
			props: {
				positionEl: {
					type: String,
					default: ""
				}
			},
			data() {
				return {
					parentNode: "",
					thisNode: "",
					isStatic: false
				}
			},
			computed: {
				parentNodePostion() {
					if(this.parentNode) {
						this.isStatic = this.getStyle(this.parentNode, "position").indexOf("static") >= 0 ? true :
							false
						return this.getElemPos(this.parentNode);
					}
				},
				setNodeStyle() {
					var thisStyle = {}
					if(this.parentNodePostion) {
						var backgroundPositionH = "center center";
						var thisPsition = "absolute"
						if(this.positionEl.indexOf("body") >= 0) {
							backgroundPositionH = "center 200px"
							thisPsition = "fixed"
						}
						else {
							backgroundPositionH = "center center"
						}
						var bcSizeW = this.parentNodePostion.width <= 35 ? this.parentNodePostion.width + 'px' :
							this.parentNodePostion.width / 2 <= 50 ? this.parentNodePostion.width / 5 + 'px' :
							'auto'
						var bcSizeH = this.parentNodePostion.height <= 35 ? this.parentNodePostion.height + 'px' :
							this.parentNodePostion.height / 2 <= 50 ? this.parentNodePostion.height / 5 + 'px' :
							'auto'
						thisStyle = {
							"top": this.parentNodePostion.top + 'px',
							"left": this.parentNodePostion.left + 'px',
							"width": this.parentNodePostion.width + 'px',
							"height": this.parentNodePostion.height + 'px',
							"background-size": bcSizeW + " " + bcSizeH,
							"z-index": 100,
							"background-repeat": 'no-repeat',
							"position": thisPsition,
							"background-position": backgroundPositionH
						}
						if(!this.isStatic) {
							thisStyle.top = '0px';
							thisStyle.left = '0px';
						}
					}
					return thisStyle
				}
			},
			directives: {
				"loading": {
					inserted(el, binding) {
						if(binding.expression) {
							//console.log(el.parentNode)
							binding.value(el.parentNode, el);
						}
					}
				}
			},
			methods: {
				getStyle(obj, attr) {
					if(obj.currentStyle) {
						return obj.currentStyle[attr];
					}
					else {
						return document.defaultView.getComputedStyle(obj, null)[attr];
					}
				},
				getParentNode(parentNode, el) {
					if(this.positionEl) {
						if(this.positionEl.indexOf("body") >= 0) {
							this.parentNode = document.body
						}
						else if(this.positionEl.indexOf("#") >= 0) {
							this.parentNode = document.getElementById(this.positionEl.split("#")[1])
						}
						else if(this.positionEl.indexOf(".") >= 0) {
							this.parentNode = document.getElementsByClassName(this.positionEl.split(".")[1])[0]
						}
						else {
							this.parentNode = parentNode;
						}
					}
					else this.parentNode = parentNode;
					//console.log(this.parentNode)
					this.thisNode = el;
				},
				getElemPos(obj) {
					var pos = {
						top: 0,
						left: 0,
						width: obj.offsetWidth,
						height: obj.offsetHeight
					};
					if(obj.offsetParent) {
						while(obj.offsetParent) {
							pos.top += obj.offsetTop;
							pos.left += obj.offsetLeft;
							obj = obj.offsetParent;
						}
					}
					else if(obj.x) {
						pos.left += obj.x;
					}
					else if(obj.x) {
						pos.top += obj.y;
					}
					return pos;
				}
			}
		});
		/*图片显示组件，
		 * 接收父组件传过来的scr，渲染出图片
		 * 可以删除当前图片，删除图片后 返回给父组件空字符串
		 * 加载图片过程中显示loading
		 * 加载图片时出错  返回给父组件空字符串
		 * API
		 * v-model 绑定一个值传递scr
		 * */
		Vue.component("moon-show-image", {
			template: `
				<div class="moon-upLoadImg_show" v-cloak>
					<div class="moon-upLoadImg_show_deleteSelected" @click="removePic"></div>
					<div :style="style" class="moon-upLoadImg_show_selected" v-show-pic="getElement"></div>
					<moon-loading v-if="showLoading"></moon-loading> 
				</div> 
			`,
			props: ["value"],
			data() {
				return {
					showLoading: true,
					thisSrc: "",
					isDefault: false,
					thisWidth: "",
					thisHeight: ""
				}
			},
			directives: {
				"show-pic": {
					inserted(el, binding) {
						if(binding.expression) {
							binding.value(el);
						}
					}
				}
			},
			computed: {
				style() {
					return {
						"background-image": this.isDefault ? "" : " url(" + this.thisSrc + ")",
						"background-repeat": 'no-repeat',
						"background-size": '100% 100% ',
						"border": this.isDefault ? "1px solid black" : "0px solid black",
						"width": this.isDefault ? this.thisWidth - 2 + 'px' : this.thisWidth + 'px',
						"height": this.isDefault ? this.thisHeight - 2 + 'px' : this.thisHeight + 'px'
					}
				}
			},
			methods: {
				getElement(el) {
					this.thisWidth = parseInt(this.getStyle(el, "width"));
					this.thisHeight = parseInt(this.getStyle(el, "height"));
				},
				getStyle(obj, attr) {
					if(obj.currentStyle) {
						return obj.currentStyle[attr];
					}
					else {
						return document.defaultView.getComputedStyle(obj, null)[attr];
					}
				},
				removePic() {
					this.isDefault = true;
					if(this.value) this.$emit("input", "")
				},
				checkImage(src) {
					this.showLoading = true;
					this.isDefault = true;
					if(!src) {
						return;
					}
					var img = new Image();
					img.src = src;
					img.onload = function(val) {
						this.thisSrc = val.target.src
						this.isDefault = false;
						this.showLoading = false;
					}.bind(this);
					img.onerror = function(val) {
						this.$emit("input", "")
					}.bind(this);
				}
			},
			mounted() {
				this.checkImage(typeof(this.value) == "string" ? this.value.trim() : window.URL.createObjectURL(
					this.value))
			},
			watch: {
				value(val) {
					this.checkImage(typeof(val) == "string" ? val.trim() : window.URL.createObjectURL(val));
				}
			}
		});
		/*data 数据源，
		*left-icon :ionicons开放数据源图标，
			<script src="https://unpkg.com/ionicons@4.1.1/dist/ionicons.js"></script>
			左侧图标 数组,第一个为关闭图标字符串代码，第二个为展开图标字符串代码，也可以不写，默认图标
		*v-model:接收所选择的节点
		*
		* tree-structure:配置data树的数据结构，默认的是
		* 				{
		*					"id": "id",
		*					"parentId": "parentId",
		*					"title": "title"
		*				}
		* */
		Vue.component("moon-tree", {
			name: "moon-tree",
			template: `
	 		<div>
						<div v-for="(value,index) in root">
							<table class="moon-tree-node" :class="{'moon-tree-next-node':nextRoot[index].length==0}">
								<tr>
									<td :id="value[treeStructure.id]" @click="clicked(index)" class="moon-tree-cursor-style  moon-tree-node-font" :class="{'moon-tree-selected':selectClass[index]&&nextRoot[index].length==0,'moon-tree-unselected':!selectClass[index]}" v-element="getEl">
										  <moon-icon :name="icon[index]" style="vertical-align: -0.3em;" v-show="nextRoot[index].length>0"></moon-icon>{{value[treeStructure.title]}}
									</td>
								</tr>
							</table>
							<moon-tree v-if="nextRoot[index].length>0" :tree-structure="treeStructure" :left-icon="leftIcon" v-model="selectValue" v-show="shwoChildNode[index]" :seconddata="seconddata" :rootdata="nextRoot[index]" :data="data" class="moon-tree-next-node"></moon-tree>
						</div>
						<moon-dropdown v-if="rightclick.indexOf('on')!=-1" v-model="dropShow" :style="rightDropDown" style="width: 100px;">
							<slot></slot>
						</moon-dropdown>
			</div>`,
			props: {
				data: {
					type: Array
				},
				treeStructure: {
					type: Object,
					default: function() {
						return {
							"id": "id",
							"parentId": "parentId",
							"title": "title"
						}
					}
				},
				rootdata: {
					type: Array,
					default: function() {
						return [];
					}
				},
				seconddata: {
					type: Array,
					default: function() {
						return [];
					}
				},
				leftIcon: {
					type: Array,
					default: function() {
						return ["moon-icon-expand-right", "moon-icon-expand-down"];
					}
				},
				rightclick: {
					type: String,
					default: "off"
				}
			},
			data() {
				return {
					shwoChildNode: [],
					icon: [],
					root: [],
					selectValue: "",
					dropShow: false,
					rightDropDown: {},
					rightClickNodeId: ""
				}
			},
			mounted() {
				this.root = this.getRoot();
				if(this.seconddata.length == 0) {
					this.data.forEach(function(value, index) {
						var mid = {}
						mid[this.treeStructure.id] = value[this.treeStructure.id];
						mid.index = index;
						mid.selected = false;
						mid.dropShow = false;
						this.seconddata.push(mid)
					}.bind(this))
				}
			},
			watch: {
				data(obj) {
					this.root = this.getRoot();
					this.seconddata.splice(0);
					this.dropShow = false;
					this.data.forEach(function(value, index) {
						var mid = {}
						mid[this.treeStructure.id] = value[this.treeStructure.id];
						mid.index = index;
						mid.selected = false;
						this.seconddata.push(mid)
					}.bind(this))
				},
				root(val) {
					val.forEach(function() {
						this.shwoChildNode.push(false);
						this.icon.push(this.leftIcon[0]);
					}.bind(this));
				},
				selectValue(val) {
					this.$emit("input", val);
				},
				rightDropDown(val) {
					if(this.rootdata.length != 0) {
						this.$parent.rightDropDown = this.rightDropDown;
						this.$parent.dropShow = this.dropShow;
						this.$parent.rightClickNodeId = this.rightClickNodeId
					}
					else {
						this.$emit("rightclick", this.rightClickNodeId);
					}
				}
			},
			computed: {
				selectClass() {
					var thisClass = [];
					this.root.forEach(function(value, index) {
						this.seconddata.forEach(function(value2, index2) {
							if(value2[this.treeStructure.id] == value[this.treeStructure.id]) {
								thisClass.push(value2.selected)
							}
						}.bind(this))
					}.bind(this));
					return thisClass;
				},
				nextRoot() {
					//筛选出一root.id为parentId的元素
					var next_root = [];
					this.root.forEach(function(value, index) {
						next_root.push(this.selectArray(this.data, value[this.treeStructure.id]))
					}.bind(this));
					return next_root;
				}
			},
			methods: {
				getRoot() {
					if(this.rootdata.length != 0) {
						return this.rootdata
					}
					var parentIds = [];
					var ids = [];
					var rootParentIds = [];
					var root = [];
					this.data.forEach(function(value) {
						parentIds.push(value[this.treeStructure.parentId]);
						ids.push(value[this.treeStructure.id]);
					}.bind(this));
					parentIds.forEach(function(value) {
						if(ids.indexOf(value) == -1) {
							rootParentIds.push(value)
						}
					});
					this.data.forEach(function(value, index) {
						if(rootParentIds.indexOf(value[this.treeStructure.parentId]) != -1) {
							root.push(value);
						}
					}.bind(this));
					return root;
				},
				selectArray(arr, where) {
					var mid = [];
					arr.forEach(function(value, index) {
						if(value[this.treeStructure.parentId] == where) {
							mid.push(value);
						}
					}.bind(this))
					return mid;
				},
				clicked(index) {
					this.shwoChildNode.splice(index, 1, !this.shwoChildNode[index])
					if(this.shwoChildNode[index]) {
						this.icon.splice(index, 1, this.leftIcon[1])
					}
					else {
						this.icon.splice(index, 1, this.leftIcon[0])
					}
					if(this.nextRoot[index].length == 0) {
						this.seconddata.forEach(function(value, index2) {
							var val = value;
							if(value[this.treeStructure.id] == this.root[index][this.treeStructure.id]) {
								val.selected = true;
							}
							else {
								val.selected = false;
							}
							this.seconddata.splice(index2, 1, val)
						}.bind(this))
					}
					var emit = {}
					Object.assign(emit, this.root[index])
					this.$emit("input", emit);
				},
				getEl(el) {
					el.oncontextmenu = function(e) {
						e.preventDefault();
					};
					el.onmousedown = function(e) {
						switch(e.button) {
							case 0:
								break;
							case 1:
								break;
							case 2:
								this.rightDropDown = {
									top: e.y + 'px',
									left: e.x + 'px'
								}
								this.dropShow = true;
								this.rightClickNodeId = el.id
								break;
							default:
								break;
						}
					}.bind(this)
				}
			},
			directives: {
				"element": {
					bind(el, binding) {
						if(binding.expression) {
							binding.value(el);
						}
					},
					unbind(el, binding) {}
				}
			}
		});
		/**图片上传组件
		 * 可以一次多选，也可以多次选择
		 * API
		 * v-model 用于接受返回值和修改值
		 * array-type  数组内数据类型 默认是file，可以返回压缩后的Base64(先返回的是file然后用Base64替换，当用watch时会体现出来，这样做用户体验更好)
		 */
		Vue.component("moon-upload-image", {
			template: `
	      			<div class="moon-upLoadImg">     
								<div class="moon-upLoadImg_ready">
									<p class="moon-upLoadImg_ready_p"></p>
									<form v-form-el="getFormEl">
									<input class="moon-upLoadImg_ready_input" type="file" @change="loadPic($event)" :id="labelId" accept="image/jpg,image/jpeg,image/png,image/bmp" multiple="multiple">
									</form>
									<label class="moon-upLoadImg_ready_label" :for="labelId">
									  <moon-icon name="moon-icon-fangdajing"></moon-icon>
									</label>
								</div>
							  <div class="moon-upLoadImg_line" v-show="showResult.length>0"><b></b></div> 
							  <moon-show-image v-if="showResult[index]"  v-model="showResult[index]" v-for="(value,index) in showResult" :key="thisUUID[index]"></moon-show-image>
					  </div>
				`,
			props: {
				value: {
					type: Array,
					default: function() {
						return [];
					}
				},
				arrayType: {
					type: String,
					default: "file"
				}
			},
			directives: {
				"form-el": {
					bind(el, binding) {
						if(binding.expression) {
							binding.value(el);
						}
					}
				}
			},
			mounted() {
				switch(this.arrayType.toLowerCase().trim()) {
					case 'file':
						this.datatype = 1;
						break;
					case 'base64':
						this.datatype = 2;
						break;
				}
				this.showResult.forEach(function() {
					this.thisUUID.push(this.comMethods.guid())
				}.bind(this))
			},
			data() {
				return {
					showResult: this.value,
					datatype: 1,
					formEl: "",
					thisUUID: []
				}
			},
			computed: {
				labelId() {
					return "id_" + this.comMethods.guid();
				}
			},
			watch: {
				showResult(val) {
					val.forEach(function(value, index) {
						if(!value) {
							val.splice(index, 1);
							this.thisUUID.splice(index, 1);
						}
					}.bind(this))
				}
			},
			methods: {
				getFormEl(el) {
					this.formEl = el;
				},
				//加载图片
				loadPic: function(e) {
					var fileList = e.target.files; //获取的图片
					var images = [];
					var presentL = this.showResult.length;
					for(var i = 0; i < fileList.length; i++) {
						if(fileList[i]) {
							switch(this.datatype) {
								case 1:
									this.showResult.push(fileList[i]);
									this.thisUUID.push(this.comMethods.guid());
									break;
								case 2:
									images.push(new Image());
									images[i].src = window.URL.createObjectURL(fileList[i]);
									this.showResult.push(images[i].src)
									this.thisUUID.push(this.comMethods.guid());
									images[i].id = i + presentL;
									images[i].onload = function(val) {
										var id = val.target.id;
										this.showResult.splice(id, 1, this.comMethods.compressImage(val.target))
									}.bind(this);
									break;
							}
						}
					}
					if(this.formEl) this.formEl.reset();
				}
			}
		});
	}
}
export default MyComponents